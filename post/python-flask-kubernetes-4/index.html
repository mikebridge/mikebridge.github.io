<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Set up Kubernetes on Azure - Mike Bridge - Dev Notes</title>
  <meta property="og:title" content="Set up Kubernetes on Azure" />
  <meta name="twitter:title" content="Set up Kubernetes on Azure" />
  <meta name="description" content="Set up and deploy a python microservice in Flask on Azure Kubernetes">
  <meta property="og:description" content="Set up and deploy a python microservice in Flask on Azure Kubernetes">
  <meta name="twitter:description" content="Set up and deploy a python microservice in Flask on Azure Kubernetes">
  <meta name="author" content="Mike Bridge"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Mike Bridge - Dev Notes",
    
    "url": "https://mikebridge.github.io"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https://mikebridge.github.io"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https://mikebridge.github.io",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https://mikebridge.github.io/post/python-flask-kubernetes-4/",
          "name": "Set up kubernetes on azure"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "Mike Bridge"
  },
  "headline": "Set up Kubernetes on Azure",
  "description" : "Set up and deploy a python microservice in Flask on Azure Kubernetes",
  "inLanguage" : "en",
  "wordCount": 1279,
  "datePublished" : "2019-06-11T00:00:00",
  "dateModified" : "2019-06-11T00:00:00",
  "image" : "https://mikebridge.github.io/images/avatar.jpg",
  "keywords" : [ "" ],
  "mainEntityOfPage" : "https://mikebridge.github.io/post/python-flask-kubernetes-4/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https://mikebridge.github.io",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https://mikebridge.github.io/images/avatar.jpg",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="Set up Kubernetes on Azure" />
<meta property="og:description" content="Set up and deploy a python microservice in Flask on Azure Kubernetes">
<meta property="og:image" content="https://mikebridge.github.io/images/avatar.jpg" />
<meta property="og:url" content="https://mikebridge.github.io/post/python-flask-kubernetes-4/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Mike Bridge - Dev Notes" />
  <meta name="twitter:title" content="Set up Kubernetes on Azure" />
  <meta name="twitter:description" content="Set up and deploy a python microservice in Flask on Azure Kubernetes">
  <meta name="twitter:image" content="https://mikebridge.github.io/images/avatar.jpg" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@michaelbridge" />
  <meta name="twitter:creator" content="@michaelbridge" />
  <link href='https://mikebridge.github.io/images/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta property="og:image" content="https://mikebridge.github.io/images/avatar.jpg" />
  <meta name="twitter:image" content="https://mikebridge.github.io/images/avatar.jpg" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@michaelbridge" />
  <meta name="twitter:creator" content="@michaelbridge" />
  <meta property="og:url" content="https://mikebridge.github.io/post/python-flask-kubernetes-4/" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Mike Bridge - Dev Notes" />

  <meta name="generator" content="Hugo 0.54.0" />
  <link rel="alternate" href="https://mikebridge.github.io/index.xml" type="application/rss+xml" title="Mike Bridge - Dev Notes">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="https://mikebridge.github.io/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="https://mikebridge.github.io/css/highlight.min.css" /><link rel="stylesheet" href="https://mikebridge.github.io/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-48293065-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://mikebridge.github.io">Mike Bridge - Dev Notes</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Blog" href="/">Blog</a>
            </li>
          
        

        

        
      </ul>
    </div>

    
      <div class="avatar-container">
        <div class="avatar-img-border">
          <a title="Mike Bridge - Dev Notes" href="https://mikebridge.github.io">
            <img class="avatar-img" src="https://mikebridge.github.io/images/avatar.jpg" alt="Mike Bridge - Dev Notes" />
          </a>
        </div>
      </div>
    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              
                <h1>Set up Kubernetes on Azure</h1>
              
              
              
                
                  <h2 class="post-subheading">Creating Python Microservices, Part 4</h2>
                
              
              
                <span class="post-meta">
  
  
  <i class="fas fa-calendar"></i>&nbsp;Posted on June 11, 2019
  
  
    &nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;7&nbsp;minutes
  
  
    &nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;1279&nbsp;words
  
  
    &nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Mike Bridge
  
  
</span>


              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p>So far in this set of blog posts we&rsquo;ve <a href="/post/python-flask-kubernetes-1">created a simple python microservice</a> using
flask, <a href="/post/python-flask-kubernetes-2">added user input validation</a> and then <a href="/post/python-flask-kubernetes-3">dockerized the result</a>.
In Part 4 we&rsquo;ll set up a Kubernetes Cluster on <a href="https://azure.microsoft.com/en-ca/services/kubernetes-service/">Azure Kubernetes Service</a> so
that we can deploy a preliminary version of the app.</p>

<blockquote>
<p>Code for this can be found on <a href="https://github.com/mikebridge/PythonKubernetesMicroserviceDemo">GitHub</a>.
Or you can <a href="https://github.com/mikebridge/PythonKubernetesMicroserviceDemo/generate">use this template</a> as a starting point.</p>
</blockquote>

<h1 id="create-a-kubernetes-cluster">Create a Kubernetes Cluster</h1>

<p>A <strong>cluster</strong> is a group of machines that runs containerized applications.  If you have an
Azure account, you can launch an AKS cluster in the <a href="https://portal.azure.com/#blade/HubsExtension/BrowseResourceBlade/resourceType/Microsoft.ContainerService%2FmanagedClusters]">Azure Portal</a>.  Click on
&lsquo;Add&rsquo; to create a new Kubernetes Cluster and create a new Resource Group (e.g. <code>KubernetesDemo</code>) to put
it in.</p>

<p>
<link rel="stylesheet" href="/css/hugo-easy-gallery.css" />
<div class="box fancy-figure caption-position-bottom caption-effect-fade" >
  <figure  itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
    <div class="img">
      <img itemprop="thumbnail" src="/images/azure/create-kubernetes-cluster-1.png" alt="Create a AKS Cluster on the Azure Portal"/>
    </div>
    <a href="/images/azure/create-kubernetes-cluster-1.png" itemprop="contentUrl"></a>
      <figcaption>
          <p>Create a AKS Cluster on the Azure Portal</p>
      </figcaption>
  </figure>
</div>

<p>&nbsp;</p>
Make sure &ldquo;RBAC&rdquo; is turned on under &ldquo;Authentication&rdquo;&mdash;<em>Role-Based Access</em> will be important later on.  In the meantime, all the
other defaults should be OK.  Click on &ldquo;Review and Create&rdquo;,</p>

<blockquote>
<p>When creating a cluster in the Portal, you may want to use a simple, human-readable name
for the &ldquo;kubernetes cluster name&rdquo; like &ldquo;production&rdquo;, &ldquo;staging&rdquo;, &ldquo;operations&rdquo;, etc., since
that&rsquo;s what you&rsquo;ll be typing from the command line.</p>
</blockquote>

<p>Click on &ldquo;Create&rdquo;.  Azure will take a few minutes to create your cluster.</p>

<blockquote>
<p>When you create a &ldquo;real&rdquo; cluster later, you will probably want to create a service principal
separately with a long expiry time.  The &ldquo;default service principal&rdquo; that is auto-created here
will expire after a year, which may give your future self an unpleasant surprise 365
days from now.</p>
</blockquote>

<h1 id="install-the-kubernetes-tools">Install the Kubernetes Tools</h1>

<p>While you&rsquo;re waiting for the cluster to start up, you can go ahead and install the
Azure and Kubernetes command line tools:</p>

<ul>
<li>the <a href="https://docs.microsoft.com/en-us/cli/azure/install-azure-cli?view=azure-cli-latest">Azure command-line tool</a> <code>az</code></li>
<li>The <a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/#install-kubectl-on-windows">Kubernetes command-line tool</a> <code>kubectl</code></li>
</ul>

<p>You can log in to azure using the <code>az</code> tool. This will cache your AKS (Azure Kubernetes
Service) credentials for the &ldquo;demo&rdquo; cluster on Kubernetes on your local machine:</p>

<pre><code class="language-bash">az login
az aks get-credentials --resource-group KubernetesDemo --name demo
</code></pre>

<h1 id="create-a-docker-registry">Create a Docker Registry</h1>

<p>You will need a place to store your docker images so that your cluster can find them.  The
main registry for containers is <a href="https://hub.docker.com/">Docker Hub</a>, but here we&rsquo;ll create our
own private <a href="https://azure.microsoft.com/en-ca/services/container-registry/">Container Registry</a> on
Azure instead.</p>

<p>From the <a href="https://portal.azure.com/#blade/HubsExtension/BrowseResourceBlade/resourceType/Microsoft.ContainerRegistry%2Fregistries">Azure Portal</a> find
&ldquo;Container Registries&rdquo; and create a new one&mdash;we&rsquo;ll call ours <code>mydemoregistry</code>, and put it in a new resource group
<code>ContainerRegistryDemo</code>.  The registry name must be globally unique, as it creates a url
at <code>mydemoregistry.azurecr.io</code> that you&rsquo;ll use later to access your registry.  So you&rsquo;ll have
to give yours a different name.</p>

<p>

<div class="box fancy-figure caption-position-bottom caption-effect-fade" >
  <figure  itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
    <div class="img">
      <img itemprop="thumbnail" src="/images/azure/create-container-registry-azure.png" alt="Create a Container Registry in the Azure Portal"/>
    </div>
    <a href="/images/azure/create-container-registry-azure.png" itemprop="contentUrl"></a>
      <figcaption>
          <p>Create a Container Registry in the Azure Portal</p>
      </figcaption>
  </figure>
</div>

<p>&nbsp;</p></p>

<p>The defaults Azure gives you should be fine&mdash;click on &ldquo;Create&rdquo; and wait for the registry to be created.  Once it&rsquo;s created,
click on &ldquo;Access Control (IAM) -&gt; Role Assignments&rdquo;.  You&rsquo;ll need to make sure your login has access if it doesn&rsquo;t
already:</p>

<p>

<div class="box fancy-figure caption-position-bottom caption-effect-fade" >
  <figure  itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
    <div class="img">
      <img itemprop="thumbnail" src="/images/azure/add-role-assignment-azure.png" alt="Role Assignment"/>
    </div>
    <a href="/images/azure/add-role-assignment-azure.png" itemprop="contentUrl"></a>
      <figcaption>
          <p>Role Assignment</p>
      </figcaption>
  </figure>
</div>

<p>&nbsp;</p></p>

<h1 id="log-into-the-docker-registry">Log Into the Docker Registry</h1>

<p>This will log you in to your newly-created Azure Container registry:</p>

<pre><code>az acr login --name mydemoregistry
</code></pre>

<p>Now we can take the dockerized Flask image <a href="/post/python-flask-kubernetes-3">we created from part 3</a>, tag it
and push it to the registry.  We called our original image <code>pythondemo</code>, but in order to push it to
the right place we need to give it a new <code>repository</code> name.</p>

<pre><code>docker tag pythondemo mydemoregistry.azurecr.io/pythondemo:0.0.1
</code></pre>

<p>The <code>0.0.1</code> <em>tag</em> that appears after the colon is optional, but we&rsquo;ll include it so we
can keep track of hypothetical versions. (Another tagging best-practice is to tag each
commit with the first few characters of the git commit SHA).</p>

<p>We should now be able to push our container to the registry:</p>

<pre><code>docker push mydemoregistry.azurecr.io/pythondemo:0.0.1
</code></pre>

<p>Don&rsquo;t worry if this takes a long time.  You probably noticed that it&rsquo;s pushing several
different things in parallel&mdash;those are docker layers, and fortunately most of those
layers will remain the same as you modify your app over time.  That means that future
pushes will only incrementally send the layers that contain your changes, and the
main Docker layers like the large Ubuntu distribution will already be there.</p>

<p>We&rsquo;re almost ready to deploy this thing&mdash;we just need to give our cluster permission to access
the container registry.  (If you notice an error later in <code>kubectl logs</code> that says <em>trying and failing to pull image</em>, this
is probably the reason.)  This script to set the permissions is from <a href="https://docs.microsoft.com/en-us/azure/container-registry/container-registry-auth-aks">docs.microsoft.com</a>
and adapted here from bash to PowerShell (!):</p>

<pre><code class="language-powershell"># PowerShell
$AKS_RESOURCE_GROUP=&quot;KubernetesDemo&quot;
$AKS_CLUSTER_NAME=&quot;demo&quot;
$ACR_RESOURCE_GROUP=&quot;ContainerRegistryDemo&quot;
$ACR_NAME=&quot;mydemoregistry&quot;

# Get the id of the service principal configured for AKS
$CLIENT_ID=(az aks show --resource-group $AKS_RESOURCE_GROUP --name $AKS_CLUSTER_NAME --query &quot;servicePrincipalProfile.clientId&quot; --output tsv)

# Get the ACR registry resource id
$ACR_ID=(az acr show --name $ACR_NAME --resource-group $ACR_RESOURCE_GROUP --query &quot;id&quot; --output tsv)

# Create Role Assignment
az role assignment create --assignee $CLIENT_ID --role Reader --scope $ACR_ID
</code></pre>

<p>If you prefer, you could also use the &ldquo;Add Role assignment&rdquo; dialogue in the Portal to
assign &ldquo;Reader&rdquo; permissions to the Demo-cluster security principal that we
created when we created the cluster.</p>

<h1 id="deploy">Deploy</h1>

<p>Kubernetes deployments are usually done with <code>YML</code> files.  We&rsquo;ll need to create a simple one to get our
flask app online:</p>

<pre><code class="language-yaml"># deploy-demo.yml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: demo-python-flask-deployment
spec:
  selector:
    matchLabels:
      app: demo-python-flask
  template:
    metadata:
      labels:
        app: demo-python-flask
    spec:
      containers:
        - name: demo-python-flask
          image: mydemoregistry.azurecr.io/pythondemo:0.0.1
          imagePullPolicy: Always
          env:
            - name: FLASK_ENV
              value: &quot;development&quot;
          ports:
            - containerPort: 80
---
apiVersion: v1
kind: Service
metadata:
  name: pythondemo-flask-service
spec:
  selector:
    app: demo-python-flask
  type: LoadBalancer
  # uncomment this if you have preallocated a static IP address:
  # loadBalancerIP: a.b.c.d
  ports:
    - protocol: TCP
      port: 80
      targetPort: 80
  loadBalancerSourceRanges:
    # replace e.f.g.h with your public IP address: https://www.whatismyip.com/
    # to limit access via the firewall to your network's public ip address.
    - e.f.g.h/32
</code></pre>

<p>This is divided into two sections&mdash;a <strong>Deployment</strong> and a <strong>Service</strong>. In Kubernetes,
a deployment is a description of how to roll out <a href="https://kubernetes.io/docs/concepts/workloads/pods/pod/"><strong>pods</strong></a> that will run your
containers.  A <a href="https://kubernetes.io/docs/concepts/services-networking/service/"><strong>service</strong></a> is a description of how your pods will be accessible</p>

<h3 id="deployment">Deployment</h3>

<p>Our deployment defines a <code>selector</code> that it will use to figure out which pods belong to it&mdash;in
this case it&rsquo;s <code>app = demo-python-flask</code>.   We&rsquo;ll pull the docker image <code>mydemoregistry.azurecr.io/pythondemo:0.0.1</code> from
our registry, set an environment variable, and open up port 80.</p>

<h3 id="service">Service</h3>

<p>If we were to deploy this without an accompanying service, our flask serice would be
available to other pods within in our cluster on port 80.  But our goal here is to make our
app available to the rest of the internet.  To do that, we&rsquo;ll tell Kubernetes to provision an
IP address and publish our service to the internet behind a load balancer.</p>

<p>We could specify a particular static IP address by explicitly setting a <code>loadBalancerIP</code>, but in this demo
we will let Azure assign one for us.</p>

<p>The service also uses the same selector <code>app=demo-python-flask</code> to find pods to publish.
We&rsquo;ll publish this service with the name &ldquo;pythondemo-flask-service&rdquo; so we can
refer to it later in the command line via <code>kubectl</code>.</p>

<p>Since we aren&rsquo;t really ready to let just anyone use our service, we&rsquo;ll configure the firewall
to limit access to our own IP address&mdash;so you should replace <code>e.f.g.h</code> with your own
ip4 address before you deploy the service.</p>

<h1 id="ship-it">Ship It!</h1>

<pre><code class="language-powershell">kubectl apply -f ./deploy-demo.yml
</code></pre>

<p>Let&rsquo;s see where Kubernetes deployed our app:</p>

<pre><code class="language-powershell">&gt; kubectl get service pythondemo-flask-service
NAME                       TYPE           CLUSTER-IP    EXTERNAL-IP     PORT(S)        AGE
pythondemo-flask-service   LoadBalancer   10.0.16.114   93.184.216.34   80:32746/TCP   1m
</code></pre>

<p>If you type this before the machine is available, you&rsquo;ll see &ldquo;pending&rdquo; under EXTERNAL-IP.  But
we waited enough time, so we can now browse to our service at <a href="http://93.184.216.34">http://93.184.216.34</a>.  (Note that
it may take a few moments before it becomes fully available.)</p>

<pre><code class="language-json">{
  &quot;message&quot;: &quot;It Works&quot;
}
</code></pre>

<p>Before we shut things down, let&rsquo;s take a <a href="/post/python-flask-kubernetes-5">quick tour of <code>kubectl</code></a> in Part 5.</p>

        

        
            <hr/>
            <section id="social-share">
              <div class="list-inline footer-links">
                

<div class="share-box" aria-hidden="true">
    <ul class="share">
      
      <li>
        <a href="//twitter.com/share?url=https%3a%2f%2fmikebridge.github.io%2fpost%2fpython-flask-kubernetes-4%2f&amp;text=Set%20up%20Kubernetes%20on%20Azure&amp;via=michaelbridge" target="_blank" title="Share on Twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//plus.google.com/share?url=https%3a%2f%2fmikebridge.github.io%2fpost%2fpython-flask-kubernetes-4%2f" target="_blank" title="Share on Google Plus">
          <i class="fab fa-google-plus"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fmikebridge.github.io%2fpost%2fpython-flask-kubernetes-4%2f" target="_blank" title="Share on Facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//reddit.com/submit?url=https%3a%2f%2fmikebridge.github.io%2fpost%2fpython-flask-kubernetes-4%2f&amp;title=Set%20up%20Kubernetes%20on%20Azure" target="_blank" title="Share on Reddit">
          <i class="fab fa-reddit"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fmikebridge.github.io%2fpost%2fpython-flask-kubernetes-4%2f&amp;title=Set%20up%20Kubernetes%20on%20Azure" target="_blank" title="Share on LinkedIn">
          <i class="fab fa-linkedin"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fmikebridge.github.io%2fpost%2fpython-flask-kubernetes-4%2f&amp;title=Set%20up%20Kubernetes%20on%20Azure" target="_blank" title="Share on StumbleUpon">
          <i class="fab fa-stumbleupon"></i>
        </a>
      </li>
  
      
      <li>
        <a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2fmikebridge.github.io%2fpost%2fpython-flask-kubernetes-4%2f&amp;description=Set%20up%20Kubernetes%20on%20Azure" target="_blank" title="Share on Pinterest">
          <i class="fab fa-pinterest"></i>
        </a>
      </li>
    </ul>
  </div>
  
              </div>
            </section>
        

        
          
          
        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="https://mikebridge.github.io/post/python-flask-kubernetes-3/" data-toggle="tooltip" data-placement="top" title="Dockerizing Flask Microservices for Deployment">&larr; Previous Post</a>
            </li>
          
          
            <li class="next">
              <a href="https://mikebridge.github.io/post/python-flask-kubernetes-5/" data-toggle="tooltip" data-placement="top" title="Introduction to Kubernetes: kubectl">Next Post &rarr;</a>
            </li>
          
        </ul>
      


      
        
          
          <div class="disqus-comments">                  
            <button id="show-comments" class="btn btn-default" type="button">Show <span class="disqus-comment-count" data-disqus-url="https://mikebridge.github.io/post/python-flask-kubernetes-4">comments</span></button>
            <div id="disqus_thread"></div>

            <script type="text/javascript">
              var disqus_config = function () {
              this.page.url = 'https:\/\/mikebridge.github.io\/post\/python-flask-kubernetes-4';
            };

          </script>
          </div>
          
        
        
      

    </div>
  </div>
</div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:mike@bridgecanada.com" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/mikebridge" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://twitter.com/michaelbridge" title="Twitter">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://linkedin.com/in/mikelbridge" title="LinkedIn">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://stackoverflow.com/users/267280/mikebridge" title="StackOverflow">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-stack-overflow fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://www.instagram.com/mikebridge70" title="Instagram">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-instagram fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://open.spotify.com/user/mikelbridge" title="Spotify">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-spotify fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            
            <a href="https://mikebridge.github.io/index.xml" title="RSS">
            
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              Mike Bridge
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2019
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://mikebridge.github.io">Mike Bridge - Dev Notes</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="http://gohugo.io">Hugo v0.54.0</a> powered &nbsp;&bull;&nbsp; Theme by <a href="http://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> adapted to <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a>
          
        </p>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="https://mikebridge.github.io/js/main.js"></script>
<script src="https://mikebridge.github.io/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> $(document).ready(function() {$("pre.chroma").css("padding","0");}); </script><script> renderMathInElement(document.body); </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script>
<script src="https://mikebridge.github.io/js/load-photoswipe.js"></script>







<script type="text/javascript">
$(function(){
  $('#show-comments').on('click', function(){
    var disqus_shortname = 'mikebridge-github-io';
      
    (function() {
      var disqus = document.createElement('script'); 
      disqus.type = 'text/javascript'; 
      disqus.async = true;
      disqus.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(disqus);
    })();
      
    $(this).hide(); 
    });
  });
      
</script>
<script id="dsq-count-scr" src="//mikebridge-github-io.disqus.com/count.js" async></script>




  </body>
</html>

